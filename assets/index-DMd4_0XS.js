var pe=Object.defineProperty,ye=Object.defineProperties;var we=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable;var H=(r,a,s)=>a in r?pe(r,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[a]=s,v=(r,a)=>{for(var s in a||(a={}))be.call(a,s)&&H(r,s,a[s]);if(V)for(var s of V(a))fe.call(a,s)&&H(r,s,a[s]);return r},k=(r,a)=>ye(r,we(a));var M=(r,a,s)=>new Promise((c,u)=>{var h=p=>{try{m(s.next(p))}catch(b){u(b)}},t=p=>{try{m(s.throw(p))}catch(b){u(b)}},m=p=>p.done?c(p.value):Promise.resolve(p.value).then(h,t);m((s=s.apply(r,a)).next())});import{j as n,h as _e,k as Y,l as ve,f as Se}from"./index-D0aZsLJq.js";import{u as ke,e as Ce,r as g}from"./router-vendor-K3Txs3ma.js";import{u as je,G as xe}from"./useWelcomeModal-Cqr8Uq6m.js";import{G as Ee}from"./GameInstructions-BN_I7Mpc.js";import{u as We}from"./useDailySeed-BCululcd.js";import{M as F}from"./Modal-C_pd94IF.js";import"./react-vendor-C0DUGSOM.js";import"./helmet-vendor-DAr0CUAT.js";import"./index-C9qaKABp.js";const oe="wordle-word-list-mode",j={COMPREHENSIVE:"comprehensive"},z=j.COMPREHENSIVE;function Me(){try{const r=localStorage.getItem(oe);return r&&Object.values(j).includes(r)?r:z}catch(r){return console.warn("Could not read word list mode from localStorage:",r),z}}function Re(r){try{return Object.values(j).includes(r)?(localStorage.setItem(oe,r),!0):!1}catch(a){return console.warn("Could not save word list mode to localStorage:",a),!1}}function $e(){const r=Me(),a={comprehensive:{name:"Comprehensive Dictionary",description:"All legitimate 5-letter English words (~12,000 words)",count:12e3}};return{currentMode:r,currentStats:a[r],allStats:a}}const Ne="_settingsContainer_10g78_1",Ae="_description_10g78_25",De="_options_10g78_39",Le="_option_10g78_39",Oe="_optionHeader_10g78_105",Ge="_optionDescription_10g78_115",Pe="_currentMode_10g78_127",Te="_closeButton_10g78_147",f={settingsContainer:Ne,description:Ae,options:De,option:Le,optionHeader:Oe,optionDescription:Ge,currentMode:Pe,closeButton:Te},Be=({onClose:r})=>{const a=$e(),s=c=>{Re(c)&&r&&r()};return n.jsxs("div",{className:f.settingsContainer,children:[n.jsx("h3",{children:"Word List Settings"}),n.jsx("p",{className:f.description,children:"Current word list configuration:"}),n.jsx("div",{className:f.options,children:n.jsxs("div",{className:f.option,children:[n.jsx("input",{type:"radio",id:"comprehensive",name:"wordListMode",value:j.COMPREHENSIVE,checked:a.currentMode===j.COMPREHENSIVE,onChange:()=>s(j.COMPREHENSIVE)}),n.jsxs("label",{htmlFor:"comprehensive",children:[n.jsx("div",{className:f.optionHeader,children:n.jsx("strong",{children:a.allStats.comprehensive.name})}),n.jsx("div",{className:f.optionDescription,children:a.allStats.comprehensive.description})]})]})}),n.jsxs("div",{className:f.currentMode,children:[n.jsx("strong",{children:"Current Mode:"})," ",a.currentStats.name]}),n.jsx("div",{className:f.info,children:n.jsxs("p",{children:[n.jsx("strong",{children:"Note:"})," This comprehensive word list includes all legitimate 5-letter English words, carefully filtered to exclude proper nouns, abbreviations, and edge cases."]})}),r&&n.jsx("button",{className:f.closeButton,onClick:r,children:"Close"})]})},Ie="_gameContent_esohc_1",Ke="_board_esohc_23",Ve="_row_esohc_37",He="_cell_esohc_49",Ye="_current_esohc_81",Fe="_pulse_esohc_1",ze="_correct_esohc_91",Ue="_flip_esohc_1",qe="_present_esohc_105",Je="_absent_esohc_119",Ze="_keyboard_esohc_135",Qe="_keyboardRow_esohc_151",Xe="_key_esohc_135",et="_specialKey_esohc_219",tt="_settingsContainer_esohc_269",ot="_settingsButton_esohc_279",d={gameContent:Ie,board:Ke,row:Ve,cell:He,current:Ye,pulse:Fe,correct:ze,flip:Ue,present:qe,absent:Je,keyboard:Ze,keyboardRow:Qe,key:Xe,specialKey:et,settingsContainer:tt,settingsButton:ot},$=["about","above","abuse","actor","acute","admit","adopt","adult","after","again","agent","agree","ahead","alarm","album","alert","alike","alive","allow","alone","along","alter","among","anger","angle","angry","apart","apple","apply","arena","argue","arise","array","aside","asset","audio","audit","avoid","award","aware","awful","axiom","azure","badge","badly","baker","bases","basic","beach","began","begin","being","below","bench","billy","birth","black","blame","blank","blind","block","blood","blow","blue","board","boost","booth","bound","brain","brand","bread","break","breed","brief","bring","broad","broke","brown","build","built","buyer","cable","calif","carry","catch","cause","chain","chair","chart","chase","cheap","check","chest","chief","child","china","chose","civil","claim","class","clean","clear","click","climb","clock","close","coach","coast","could","count","court","cover","craft","crash","cream","crime","cross","crowd","crown","crude","curly","curry","curse","curve","cycle","daily","dance","dated","dealt","death","debut","delay","depth","doing","doubt","dozen","draft","drama","drank","draw","dress","drill","drink","drive","drop","drove","dying","eager","early","earth","eight","elite","empty","enemy","enjoy","enter","entry","equal","error","event","every","exact","exist","extra","faith","false","fault","fiber","field","fifth","fifty","fight","final","first","fixed","flash","fleet","floor","fluid","focus","fold","food","foot","force","forth","forty","forum","found","frame","frank","fraud","fresh","front","fruit","fully","funny","giant","given","glass","globe","going","grace","grade","grand","grant","grass","grave","great","green","gross","group","grown","guard","guess","guest","guide","garden","grape","happy","harry","heart","heavy","hence","henry","horse","hotel","house","human","ideal","image","index","inner","input","issue","japan","jimmy","joint","jones","judge","known","label","large","laser","later","laugh","layer","learn","lease","least","leave","legal","level","lewis","light","limit","links","lives","local","loose","lower","lucky","lunch","lying","magic","major","maker","march","maria","match","maybe","mayor","meant","media","metal","might","minor","minus","mixed","model","money","month","moral","motor","mount","mouse","mouth","moved","movie","music","naked","named","nasty","naval","near","neat","neck","need","nerve","never","newer","newly","news","next","nice","night","nine","ninth","noble","noise","noisy","none","noon","nor","north","nose","not","note","noted","notes","notice","noun","now","number","nurse","ocean","offer","often","oil","old","older","omit","once","one","only","onto","open","opened","opening","opens","operation","opinion","opportunity","opposite","or","orange","order","ordered","ordinary","organization","other","others","ought","our","ours","ourselves","out","outside","over","own","page","paid","pain","paint","pair","paper","paragraph","parent","part","particular","party","pass","passed","past","pay","peace","people","per","percent","perfect","perhaps","period","person","personal","picture","piece","place","plan","plane","plant","play","played","please","point","poor","position","possible","power","practice","prepare","present","president","pretty","probably","problem","provide","public","pull","put","question","quick","quickly","quiet","quite","race","radio","rain","raise","ran","rather","reach","read","ready","real","really","reason","received","record","red","region","remember","reported","research","result","return","right","river","road","rock","room","rule","run","running","said","same","saw","say","school","sea","second","see","seem","seen","self","sentence","set","several","shall","she","should","show","shown","side","since","small","so","some","something","sometimes","son","soon","sound","south","space","speak","special","stand","start","state","stay","still","stop","story","study","such","sure","system","table","take","taken","talk","tell","ten","than","that","the","their","them","then","there","these","they","thing","think","this","those","though","thought","three","through","time","to","today","together","told","too","took","toward","try","turn","two","under","until","up","upon","us","use","used","very","value","walk","want","was","watch","water","way","we","well","went","were","what","when","where","which","while","white","who","why","will","with","without","word","work","world","would","write","written","year","you","young","your","zero","zone"],re=new Set($);let _=null,R=!1,C=null;const U="wordle_valid_guesses_cache",q="wordle_cache_timestamp",rt=24*60*60*1e3,P=typeof window!="undefined"&&window.localStorage;function se(){return M(this,null,function*(){if(_)return _;if(C)return C;const r=P?localStorage.getItem(U):null,a=P?localStorage.getItem(q):null;if(r&&a&&Date.now()-parseInt(a)<rt)try{const c=JSON.parse(r);return _=new Set(c),console.log("📦 Loaded valid guesses from cache"),_}catch(c){console.warn("Failed to parse cached valid guesses:",c)}return R=!0,C=fetch("/wordle/validGuesses.json").then(s=>{if(!s.ok)throw new Error(`Failed to load valid guesses: ${s.status}`);return s.json()}).then(s=>{if(_=new Set(s),P)try{localStorage.setItem(U,JSON.stringify(s)),localStorage.setItem(q,Date.now().toString()),console.log("💾 Cached valid guesses in localStorage")}catch(c){console.warn("Failed to cache valid guesses:",c)}return R=!1,C=null,_}).catch(s=>(console.error("Failed to load valid guesses:",s),R=!1,C=null,_=re,_)),C})}function st(r){return M(this,null,function*(){const a=r.toLowerCase();return re.has(a)?!0:(yield se()).has(a)})}function J(r){const a=r%$.length;return $[a]}function at(){return M(this,null,function*(){!_&&!R&&(console.log("🚀 Preloading valid guesses..."),yield se(),console.log("✅ Valid guesses preloaded"))})}const Z=$,T={secretWord:"",currentRow:0,currentCol:0,gameOver:!1,gameWon:!1,maxAttempts:6,wordLength:5,board:Array.from({length:6},()=>Array.from({length:5},()=>({value:"",status:""}))),keyboardColors:{}},Q=["Great Job!","Awesome!","You did it!","Impressive!","Fantastic!","Well done!","You cracked it!","Brilliant!","Superb!","You nailed it!"],X=["Better luck next time!","Don't give up!","Try again tomorrow!","Keep practicing!","You'll get it next time!"];function ee(){return Array.from({length:6},()=>Array.from({length:5},()=>({value:"",status:""})))}function nt(r,a){const s=[],c=a.split(""),u=r.split(""),h=new Array(5).fill(!1);for(let t=0;t<5;t++)u[t]===c[t]?(s.push("correct"),h[t]=!0):s.push("");for(let t=0;t<5;t++){if(s[t]==="correct")continue;const m=u[t],p=c.filter((y,x)=>y===m&&!h[x]).length,b=s.filter((y,x)=>y==="present"&&u[x]===m).length;if(p>b){s[t]="present";for(let y=0;y<5;y++)if(c[y]===m&&!h[y]){h[y]=!0;break}}else s[t]="absent"}return s}function lt(r,a,s){const c=v({},r);for(let u=0;u<a.length;u++){const h=a[u].toUpperCase(),t=s[u];(!c[h]||t==="correct"||t==="present"&&c[h]==="absent")&&(c[h]=t)}return c}function te(){return Z[Math.floor(Math.random()*Z.length)]}const bt=({mode:r,description:a,instructions:s})=>{ke(),Ce();const{showToast:c}=_e(),u=We(),h=new Date().toDateString(),[t,m]=g.useState(T),[p,b]=g.useState(!1),[y,x]=g.useState(""),[ae,ne]=g.useState(""),[B,N]=g.useState(!1),[le,A]=g.useState(""),{WelcomeModal:ie}=je("wordle");g.useEffect(()=>{const o=r==="daily",e=o?J(u):te(),l=ee();m(k(v({},T),{secretWord:e,board:l})),A(`Wordle game started. ${o?"Daily mode":"Practice mode"}. Guess the 5-letter word in 6 tries.`),at()},[r,u]),g.useEffect(()=>{if(t.gameOver){const o=t.currentRow,e=t.gameWon?`Congratulations! You won in ${o} ${o===1?"try":"tries"}!`:`Game over. The word was ${t.secretWord.toUpperCase()}.`;A(e)}else{const e=`Attempt ${t.currentRow+1} of 6. ${t.currentCol===0?"Enter your guess.":`Current guess: ${t.board[t.currentRow].map(l=>l.value||"empty").join(" ")}`}`;A(e)}},[t.currentRow,t.currentCol,t.gameOver,t.gameWon,t.secretWord,t.board]);const D=g.useCallback(o=>{m(e=>{if(e.gameOver||e.currentCol>=5)return e;const l=[...e.board];return l[e.currentRow][e.currentCol]={value:o,status:""},k(v({},e),{board:l,currentCol:e.currentCol+1})})},[]),L=g.useCallback(()=>{m(o=>{if(o.gameOver||o.currentCol===0)return o;const e=[...o.board];return e[o.currentRow][o.currentCol-1]={value:"",status:""},k(v({},o),{board:e,currentCol:o.currentCol-1})})},[]),O=g.useCallback(()=>M(null,null,function*(){const o=t;if(o.gameOver||o.currentCol!==5)return;const e=o.board[o.currentRow].map(i=>i.value).join("");if(!(yield st(e))){c("Invalid Word",{type:"error",position:"top",duration:2e3});return}m(i=>{const S=nt(e,i.secretWord),E=[...i.board];E[i.currentRow]=E[i.currentRow].map((w,G)=>k(v({},w),{status:S[G]}));const ge=lt(i.keyboardColors,e,S),W=S.every(w=>w==="correct"),me=W||i.currentRow===5;if(r==="daily"){const w=Y(),G={gamesPlayed:w.gamesPlayed+1,gamesWon:w.gamesWon+(W?1:0),currentStreak:W?w.currentStreak+1:0,bestStreak:W?Math.max(w.bestStreak,w.currentStreak+1):w.bestStreak};ve(G),Se("wordle",h)}return k(v({},i),{board:E,keyboardColors:ge,currentRow:i.currentRow+1,currentCol:0,gameOver:me,gameWon:W})})}),[t,r,h,c]),I=g.useCallback(o=>{const e=o.currentRow,l=Y(),i={gamesPlayed:l.gamesPlayed,gamesWon:l.gamesWon,currentStreak:l.currentStreak,bestStreak:l.bestStreak},S=o.gameWon?Q[Math.floor(Math.random()*Q.length)]:X[Math.floor(Math.random()*X.length)];x(o.gameWon?"Congratulations!":"Game Over"),ne(`${S}

${o.gameWon?`You solved it in ${e} ${e===1?"try":"tries"}!`:`The word was: ${o.secretWord.toUpperCase()}`}

Games Played: ${i.gamesPlayed}
Games Won: ${i.gamesWon}
Current Streak: ${i.currentStreak}
Best Streak: ${i.bestStreak}`),b(!0)},[r,h]);g.useEffect(()=>{if(t.gameOver){const o=setTimeout(()=>{I(t)},1e3);return()=>clearTimeout(o)}},[t.gameOver,t.gameWon,I]),g.useEffect(()=>{const o=e=>{(e.key==="Enter"||e.key==="Backspace")&&e.preventDefault(),e.key.length===1&&e.key.match(/[a-zA-Z]/)?D(e.key.toLowerCase()):e.key==="Enter"?O():e.key==="Backspace"&&L()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[D,L,O]);const ce=()=>{const e=r==="daily"?J(u):te();m(k(v({},T),{secretWord:e,board:ee()})),b(!1)},de=o=>{if(!o.status)return"";switch(o.status){case"correct":return d.correct;case"present":return d.present;case"absent":return d.absent;default:return""}},K=o=>t.keyboardColors[o]||"",ue=(o,e,l)=>{const i=`Position ${l+1} in row ${e+1}`,S=o.value||"empty",E=o.status?`, ${o.status}`:"";return`${i}, ${S}${E}`},he=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]];return n.jsxs(xe,{children:[n.jsx(Ee,{description:a,instructions:s}),n.jsx(ie,{}),n.jsx("div",{"aria-live":"polite","aria-atomic":"true",style:{position:"absolute",left:"-10000px",width:"1px",height:"1px",overflow:"hidden"},children:le}),n.jsxs("div",{className:d.gameContent,children:[n.jsx("div",{className:d.board,role:"grid","aria-label":"Wordle game board",children:t.board.map((o,e)=>n.jsx("div",{className:d.row,role:"row","aria-label":`Row ${e+1}`,children:o.map((l,i)=>n.jsx("div",{className:`${d.cell} ${de(l)} ${e===t.currentRow&&i===t.currentCol?d.current:""}`,role:"gridcell","aria-label":ue(l,e,i),"aria-current":e===t.currentRow&&i===t.currentCol?"true":void 0,children:l.value},i))},e))}),n.jsx("div",{className:d.settingsContainer,children:n.jsx("button",{className:d.settingsButton,onClick:()=>N(!0),"aria-label":"Word list settings",title:"Word List Settings",children:"⚙️ Settings"})}),n.jsx("div",{className:d.keyboard,role:"group","aria-label":"Virtual keyboard",children:he.map((o,e)=>n.jsxs("div",{className:d.keyboardRow,role:"group","aria-label":`Keyboard row ${e+1}`,children:[e===2&&n.jsx("button",{className:`${d.key} ${d.specialKey}`,onClick:O,disabled:t.gameOver,"aria-label":"Submit guess",children:"Enter"}),o.map(l=>n.jsx("button",{className:`${d.key} ${K(l)?d[K(l)]:""}`,onClick:()=>{D(l.toLowerCase())},disabled:t.gameOver,"aria-label":`Input letter ${l}`,children:l},l)),e===2&&n.jsx("button",{className:`${d.key} ${d.specialKey}`,onClick:L,disabled:t.gameOver,"aria-label":"Delete last letter",children:"←"})]},e))}),p&&n.jsxs(F,{open:p,onClose:()=>b(!1),title:y,children:[n.jsx("div",{style:{whiteSpace:"pre-line",marginBottom:"20px"},children:ae}),n.jsx("div",{slot:"buttons",children:n.jsx("button",{onClick:ce,style:{backgroundColor:"#6aaa64",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},"aria-label":"Play again",children:"Play Again"})})]}),B&&n.jsx(F,{open:B,onClose:()=>N(!1),title:"Word List Settings",children:n.jsx(Be,{onClose:()=>N(!1)})})]})]})};export{bt as default};
