var F=Object.defineProperty,V=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var G=(e,n,r)=>n in e?F(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,k=(e,n)=>{for(var r in n||(n={}))K.call(n,r)&&G(e,r,n[r]);if(L)for(var r of L(n))Y.call(n,r)&&G(e,r,n[r]);return e},H=(e,n)=>V(e,J(n));import{j as t,t as Q,b as U,r as X}from"./index-BaAvzZ0N.js";import{L as C,R as p,r as a,c as Z,d as ee,e as te}from"./router-vendor-K3Txs3ma.js";import{t as D,g as ne}from"./analytics-DjWLuW_Z.js";import{L as O}from"./LayoutWrapper-CgBMqR4v.js";import{P as l}from"./index-C9qaKABp.js";import"./react-vendor-C0DUGSOM.js";import"./helmet-vendor-DAr0CUAT.js";import"./CategoryStrip-DOEuGZeL.js";class re{constructor(){this.metrics={},this.isEnabled=localStorage.getItem("gh103_performance_monitoring")==="true"}startGameLoad(n){this.isEnabled&&(this.metrics[n]={startTime:performance.now(),gameSlug:n})}endGameLoad(n){if(!this.isEnabled||!this.metrics[n])return;const r=performance.now(),s=r-this.metrics[n].startTime;this.metrics[n].endTime=r,this.metrics[n].duration=s;const o=JSON.parse(localStorage.getItem("gh103_game_load_times")||"{}");o[n]=H(k({},this.metrics[n]),{timestamp:Date.now()}),localStorage.setItem("gh103_game_load_times",JSON.stringify(o));try{window.gtag&&window.gtag("event","game_load_time",{game_name:n,load_time_ms:Math.round(s)})}catch(i){}}getAverageLoadTime(n){const s=JSON.parse(localStorage.getItem("gh103_game_load_times")||"{}")[n];return s?s.duration:null}getAllMetrics(){return JSON.parse(localStorage.getItem("gh103_game_load_times")||"{}")}clearMetrics(){localStorage.removeItem("gh103_game_load_times"),this.metrics={}}setEnabled(n){this.isEnabled=n,localStorage.setItem("gh103_performance_monitoring",n.toString())}}const M=new re,se="_wrapper_sd22i_1",S={wrapper:se},oe="_nowPlayingBar_5vzve_1",ae="_text_5vzve_39",$={nowPlayingBar:oe,text:ae},ie=({gameTitle:e,visible:n=!1})=>n?t.jsx("div",{className:$.nowPlayingBar,role:"status","aria-live":"polite",children:t.jsxs("span",{className:$.text,children:["Now Playing: ",t.jsx("strong",{children:e})]})}):null,le="_header_b8vba_1",ce="_backLink_b8vba_35",de="_icon_b8vba_83",ue="_title_b8vba_93",me="_rightActions_b8vba_111",x={header:le,backLink:ce,icon:de,title:ue,rightActions:me},he=({title:e,backLabel:n="Back to Home",backHref:r="/",rightActions:s})=>t.jsxs("header",{className:x.header,children:[t.jsxs(C,{to:r,className:x.backLink,children:[t.jsx("span",{className:x.icon,"aria-hidden":"true",children:"‚Üê"})," ",n]}),t.jsx("h1",{className:x.title,children:e}),t.jsx("div",{className:x.rightActions,children:s})]});var A={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},z=p.createContext&&p.createContext(A),fe=["attr","size","title"];function pe(e,n){if(e==null)return{};var r=ge(e,n),s,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)s=i[o],!(n.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function ge(e,n){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(n.indexOf(s)>=0)continue;r[s]=e[s]}return r}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},v.apply(this,arguments)}function q(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,s)}return r}function _(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?q(Object(r),!0).forEach(function(s){ye(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ye(e,n,r){return n=xe(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function xe(e){var n=be(e,"string");return typeof n=="symbol"?n:n+""}function be(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function R(e){return e&&e.map((n,r)=>p.createElement(n.tag,_({key:r},n.attr),R(n.child)))}function T(e){return n=>p.createElement(je,v({attr:_({},e.attr)},n),R(e.child))}function je(e){var n=r=>{var{attr:s,size:o,title:i}=e,h=pe(e,fe),c=o||r.size||"1em",d;return r.className&&(d=r.className),e.className&&(d=(d?d+" ":"")+e.className),p.createElement("svg",v({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,h,{className:d,style:_(_({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&p.createElement("title",null,i),e.children)};return z!==void 0?p.createElement(z.Consumer,null,r=>n(r)):n(A)}function ve(e){return T({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(e)}function _e(e){return T({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function we(e){return T({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}const Ne="_overlay_ooyuq_3",Pe="_fadeIn_ooyuq_1",ke="_modal_ooyuq_39",Oe="_slideIn_ooyuq_1",Se="_small_ooyuq_67",Ce="_medium_ooyuq_77",Te="_large_ooyuq_87",Ee="_header_ooyuq_99",Be="_title_ooyuq_117",Ie="_closeButton_ooyuq_135",Le="_closeButtonNoTitle_ooyuq_193",Ge="_content_ooyuq_255",f={overlay:Ne,fadeIn:Pe,modal:ke,slideIn:Oe,small:Se,medium:Ce,large:Te,header:Ee,title:Be,closeButton:Ie,closeButtonNoTitle:Le,content:Ge};function j({isOpen:e,onClose:n,title:r,children:s,size:o="medium",showCloseButton:i=!0,closeOnOverlayClick:h=!0,closeOnEscape:c=!0,className:d="",overlayClassName:w=""}){const g=a.useRef(null),N=a.useRef(null);if(a.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),a.useEffect(()=>{if(e){N.current=document.activeElement,setTimeout(()=>{if(g.current){const m=g.current.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');m?m.focus():g.current.focus()}},0);const y=m=>{if(c&&m.key==="Escape"){n();return}if(m.key==="Tab"&&g.current){const P=g.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),B=P[0],I=P[P.length-1];!m.shiftKey&&document.activeElement===I?(m.preventDefault(),B.focus()):m.shiftKey&&document.activeElement===B&&(m.preventDefault(),I.focus())}};return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y),N.current&&N.current.focus()}}},[e,n,c]),!e)return null;const W=y=>{h&&y.target===y.currentTarget&&n()},E=()=>{n()};return t.jsx("div",{className:`${f.overlay} ${w}`,onClick:W,"aria-modal":"true",role:"dialog","aria-labelledby":r?"modal-title":void 0,tabIndex:-1,children:t.jsxs("div",{ref:g,className:`${f.modal} ${f[o]} ${d}`,tabIndex:0,children:[r&&t.jsxs("div",{className:f.header,children:[t.jsx("h2",{id:"modal-title",className:f.title,children:r}),i&&t.jsx("button",{onClick:E,className:f.closeButton,"aria-label":"Close modal",type:"button",children:t.jsx("span",{"aria-hidden":"true",children:"√ó"})})]}),!r&&i&&t.jsx("button",{onClick:E,className:f.closeButtonNoTitle,"aria-label":"Close modal",type:"button",children:t.jsx("span",{"aria-hidden":"true",children:"√ó"})}),t.jsx("div",{className:f.content,children:s})]})})}j.propTypes={isOpen:l.bool.isRequired,onClose:l.func.isRequired,title:l.oneOfType([l.string,l.node]),children:l.node.isRequired,size:l.oneOf(["small","medium","large"]),showCloseButton:l.bool,closeOnOverlayClick:l.bool,closeOnEscape:l.bool,className:l.string,overlayClassName:l.string};const He="_content_1exc1_1",De="_placeholder_1exc1_9",Me="_howToPlay_1exc1_17",$e="_icon_1exc1_27",ze="_instructions_1exc1_91",u={content:He,placeholder:De,howToPlay:Me,icon:$e,instructions:ze},qe=()=>t.jsx("div",{className:u.content,children:t.jsxs("div",{className:u.placeholder,children:[t.jsx("div",{className:u.icon,children:"üìä"}),t.jsx("h3",{children:"Statistics Coming Soon"}),t.jsx("p",{children:"Detailed game statistics and performance tracking will be available in a future update."}),t.jsx("p",{children:"You'll be able to view:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Games played and win rates"}),t.jsx("li",{children:"Average completion times"}),t.jsx("li",{children:"Personal best scores"}),t.jsx("li",{children:"Progress over time"})]})]})}),Ae=()=>t.jsx("div",{className:u.content,children:t.jsxs("div",{className:u.placeholder,children:[t.jsx("div",{className:u.icon,children:"‚öôÔ∏è"}),t.jsx("h3",{children:"Settings Coming Soon"}),t.jsx("p",{children:"Game settings and customization options will be available in a future update."}),t.jsx("p",{children:"You'll be able to customize:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Sound effects and music"}),t.jsx("li",{children:"Visual themes and colors"}),t.jsx("li",{children:"Difficulty levels"}),t.jsx("li",{children:"Accessibility options"}),t.jsx("li",{children:"Game preferences"})]})]})}),Re=({instructions:e})=>t.jsx("div",{className:u.content,children:t.jsxs("div",{className:u.howToPlay,children:[t.jsx("div",{className:u.icon,children:"‚ùì"}),t.jsx("h3",{children:"How to Play"}),t.jsx("div",{className:u.instructions,children:e?t.jsx("div",{dangerouslySetInnerHTML:{__html:e}}):t.jsx("p",{children:"Instructions for this game are not available."})})]})}),We="_actions_jxssw_1",Fe="_actionButton_jxssw_13",b={actions:We,actionButton:Fe},Ve=({instructions:e})=>{const[n,r]=a.useState(!1),[s,o]=a.useState(!1),[i,h]=a.useState(!1),c=()=>{r(!0)},d=()=>{o(!0)},w=()=>{h(!0)};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:b.actions,children:[t.jsx("button",{onClick:c,className:b.actionButton,"aria-label":"View statistics",title:"Statistics",children:t.jsx(ve,{})}),t.jsx("button",{onClick:d,className:b.actionButton,"aria-label":"Open settings",title:"Settings",children:t.jsx(we,{})}),t.jsx("button",{onClick:w,className:b.actionButton,"aria-label":"How to play",title:"How to Play",children:t.jsx(_e,{})})]}),t.jsx(j,{isOpen:n,onClose:()=>r(!1),title:"Statistics",size:"medium",children:t.jsx(qe,{})}),t.jsx(j,{isOpen:s,onClose:()=>o(!1),title:"Settings",size:"medium",children:t.jsx(Ae,{})}),t.jsx(j,{isOpen:i,onClose:()=>h(!1),title:"How to Play",size:"large",children:t.jsx(Re,{instructions:e})})]})},Je=(e,n)=>{const r=n.find(s=>s.slug===e);return r||(console.warn(`[GameWrapper] Game not found for slug: "${e}"`),console.warn("[GameWrapper] Available games:",n.map(s=>s.slug)),null)},Ke=({gameName:e})=>{const[n,r]=a.useState(0);return a.useEffect(()=>{const s=setInterval(()=>{r(o=>o>=90?o:o+Math.random()*15)},100);return()=>clearInterval(s)},[]),t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",color:"#666",minHeight:"300px"},children:[t.jsx("div",{style:{width:"60px",height:"60px",border:"4px solid #f3f3f3",borderTop:"4px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"1rem"}}),t.jsxs("p",{style:{marginBottom:"1rem",fontSize:"1.1rem"},children:["Loading ",e,"..."]}),t.jsx("div",{style:{width:"200px",height:"4px",backgroundColor:"#f3f3f3",borderRadius:"2px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${n}%`,height:"100%",backgroundColor:"#007bff",transition:"width 0.3s ease",borderRadius:"2px"}})}),t.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.9rem",color:"#999"},children:[Math.round(n),"% loaded"]})]})},st=()=>{const{slug:e}=Z(),[n]=ee(),r=te(),s=n.get("mode");a.useEffect(()=>{Q(r.pathname,`/game/${e}`,"route-change"),console.log("[GameWrapper] Navigation detected:",{slug:e,mode:s,pathname:r.pathname,search:r.search})},[e,s,r]),a.useEffect(()=>{const d=setTimeout(()=>{document.body.innerHTML.trim()===""&&(console.warn("[GameWrapper] Blank page detected, attempting recovery..."),X())},200);return()=>clearTimeout(d)},[]);const o=Je(e,ne);if(a.useEffect(()=>{o&&M.startGameLoad(o.slug)},[o]),a.useEffect(()=>{if(o){U(e);try{D("page_view",{page:`game/${o.slug}`,mode:s}),D("game_view",{name:o.name,mode:s})}catch(c){}}},[o,e,s]),!o)return t.jsx(O,{showHeader:!1,showCategoryStrip:!1,pageTitle:"Game Not Found ‚Äì Game Hub",metaDescription:"The requested game could not be found.",keywords:["game hub","not found"],children:t.jsx("div",{className:S.wrapper,children:t.jsxs("div",{style:{textAlign:"center",marginTop:"3rem"},children:[t.jsx("h2",{children:"Game Not Found"}),t.jsxs("p",{style:{color:"#666",marginBottom:"1rem"},children:['The game "',e,'" could not be found.']}),t.jsx(C,{to:"/",children:"Back to Home"})]})})});if(s==="daily"&&!o.supportsDaily)return t.jsx(O,{showHeader:!1,showCategoryStrip:!1,pageTitle:`${o.name} ‚Äì Daily Mode Not Available`,metaDescription:"Daily mode is not available for this game.",keywords:["game hub","daily mode",o.name],children:t.jsx("div",{className:S.wrapper,children:t.jsxs("div",{style:{textAlign:"center",marginTop:"3rem"},children:[t.jsx("h2",{children:"Daily Mode Not Available"}),t.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"This game doesn't support daily mode yet."}),t.jsx(C,{to:`/game/${o.slug}`,style:{color:"#007bff",textDecoration:"none",fontSize:16},children:"Play Regular Game"})]})})});const i=o.component,h=c=>(a.useEffect(()=>{M.endGameLoad(o.slug)},[]),t.jsx(i,k({},c)));return t.jsxs(O,{showHeader:!1,showCategoryStrip:!1,pageTitle:`${o.name}${s==="daily"?" ‚Äì Daily Challenge":""} ‚Äì Play Now on Game Hub`,metaDescription:o.metaDescription||"Play free puzzle games in your browser. No sign-up needed.",keywords:o.keywords||["game hub","browser games","puzzle games"],children:[t.jsx(ie,{gameTitle:o.name,visible:!1}),t.jsx(he,{title:o.name,rightActions:t.jsx(Ve,{instructions:o.instructions})}),t.jsx("div",{className:S.wrapper,children:t.jsx("section",{style:{minHeight:200,display:"flex",alignItems:"center",justifyContent:"center",background:"#f9f9f9",borderRadius:4},children:t.jsx(a.Suspense,{fallback:t.jsx(Ke,{gameName:o.name}),children:t.jsx(h,{mode:s,description:o.description,instructions:o.instructions})})})})]})};export{st as default};
