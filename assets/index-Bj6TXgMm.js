var he=Object.defineProperty,pe=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var K=(r,s,a)=>s in r?he(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a,v=(r,s)=>{for(var a in s||(s={}))be.call(s,a)&&K(r,a,s[a]);if(H)for(var a of H(s))we.call(s,a)&&K(r,a,s[a]);return r},k=(r,s)=>pe(r,ye(s));var M=(r,s,a)=>new Promise((c,u)=>{var g=p=>{try{h(a.next(p))}catch(w){u(w)}},t=p=>{try{h(a.throw(p))}catch(w){u(w)}},h=p=>p.done?c(p.value):Promise.resolve(p.value).then(g,t);h((a=a.apply(r,s)).next())});import{j as n,f as fe,h as Y,k as _e,e as ve}from"./index-DMZmBJst.js";import{d as Se,e as ke,r as m}from"./router-vendor-BfUoC7-o.js";import{u as Ce,G as xe,M as F}from"./useWelcomeModal-CbTDL-GU.js";import{G as Ee}from"./GameInstructions-y8KdCZhA.js";import{u as je}from"./useDailySeed-CCpBxUz8.js";import"./react-vendor-C0DUGSOM.js";import"./helmet-vendor-CTOi22zu.js";import"./index-C9qaKABp.js";const te="wordle-word-list-mode",x={COMPREHENSIVE:"comprehensive"},z=x.COMPREHENSIVE;function We(){try{const r=localStorage.getItem(te);return r&&Object.values(x).includes(r)?r:z}catch(r){return console.warn("Could not read word list mode from localStorage:",r),z}}function Me(r){try{return Object.values(x).includes(r)?(localStorage.setItem(te,r),!0):!1}catch(s){return console.warn("Could not save word list mode to localStorage:",s),!1}}function Re(){const r=We(),s={comprehensive:{name:"Comprehensive Dictionary",description:"All legitimate 5-letter English words (~12,000 words)",count:12e3}};return{currentMode:r,currentStats:s[r],allStats:s}}const Ne="_settingsContainer_10g78_1",$e="_description_10g78_25",Oe="_options_10g78_39",De="_option_10g78_39",Ae="_optionHeader_10g78_105",Le="_optionDescription_10g78_115",Pe="_currentMode_10g78_127",Ge="_closeButton_10g78_147",f={settingsContainer:Ne,description:$e,options:Oe,option:De,optionHeader:Ae,optionDescription:Le,currentMode:Pe,closeButton:Ge},Te=({onClose:r})=>{const s=Re(),a=c=>{Me(c)&&r&&r()};return n.jsxs("div",{className:f.settingsContainer,children:[n.jsx("h3",{children:"Word List Settings"}),n.jsx("p",{className:f.description,children:"Current word list configuration:"}),n.jsx("div",{className:f.options,children:n.jsxs("div",{className:f.option,children:[n.jsx("input",{type:"radio",id:"comprehensive",name:"wordListMode",value:x.COMPREHENSIVE,checked:s.currentMode===x.COMPREHENSIVE,onChange:()=>a(x.COMPREHENSIVE)}),n.jsxs("label",{htmlFor:"comprehensive",children:[n.jsx("div",{className:f.optionHeader,children:n.jsx("strong",{children:s.allStats.comprehensive.name})}),n.jsx("div",{className:f.optionDescription,children:s.allStats.comprehensive.description})]})]})}),n.jsxs("div",{className:f.currentMode,children:[n.jsx("strong",{children:"Current Mode:"})," ",s.currentStats.name]}),n.jsx("div",{className:f.info,children:n.jsxs("p",{children:[n.jsx("strong",{children:"Note:"})," This comprehensive word list includes all legitimate 5-letter English words, carefully filtered to exclude proper nouns, abbreviations, and edge cases."]})}),r&&n.jsx("button",{className:f.closeButton,onClick:r,children:"Close"})]})},Ie="_gameContent_1a1xc_1",Be="_board_1a1xc_23",Ve="_row_1a1xc_37",He="_cell_1a1xc_49",Ke="_current_1a1xc_79",Ye="_pulse_1a1xc_1",Fe="_correct_1a1xc_89",ze="_flip_1a1xc_1",Ue="_present_1a1xc_103",qe="_absent_1a1xc_117",Je="_keyboard_1a1xc_133",Ze="_keyboardRow_1a1xc_149",Qe="_key_1a1xc_133",Xe="_specialKey_1a1xc_217",et="_settingsContainer_1a1xc_267",tt="_settingsButton_1a1xc_277",d={gameContent:Ie,board:Be,row:Ve,cell:He,current:Ke,pulse:Ye,correct:Fe,flip:ze,present:Ue,absent:qe,keyboard:Je,keyboardRow:Ze,key:Qe,specialKey:Xe,settingsContainer:et,settingsButton:tt},T=["about","above","abuse","actor","acute","admit","adopt","adult","after","again","agent","agree","ahead","alarm","album","alert","alike","alive","allow","alone","along","alter","among","anger","angle","angry","apart","apple","apply","arena","argue","arise","array","aside","asset","audio","audit","avoid","award","aware","awful","axiom","azure","badge","badly","baker","bases","basic","beach","began","begin","being","below","bench","billy","birth","black","blame","blank","blind","block","blood","blow","blue","board","boost","booth","bound","brain","brand","bread","break","breed","brief","bring","broad","broke","brown","build","built","buyer","cable","calif","carry","catch","cause","chain","chair","chart","chase","cheap","check","chest","chief","child","china","chose","civil","claim","class","clean","clear","click","climb","clock","close","coach","coast","could","count","court","cover","craft","crash","cream","crime","cross","crowd","crown","crude","curly","curry","curse","curve","cycle","daily","dance","dated","dealt","death","debut","delay","depth","doing","doubt","dozen","draft","drama","drank","draw","dress","drill","drink","drive","drop","drove","dying","eager","early","earth","eight","elite","empty","enemy","enjoy","enter","entry","equal","error","event","every","exact","exist","extra","faith","false","fault","fiber","field","fifth","fifty","fight","final","first","fixed","flash","fleet","floor","fluid","focus","fold","food","foot","force","forth","forty","forum","found","frame","frank","fraud","fresh","front","fruit","fully","funny","giant","given","glass","globe","going","grace","grade","grand","grant","grass","grave","great","green","gross","group","grown","guard","guess","guest","guide","garden","grape","happy","harry","heart","heavy","hence","henry","horse","hotel","house","human","ideal","image","index","inner","input","issue","japan","jimmy","joint","jones","judge","known","label","large","laser","later","laugh","layer","learn","lease","least","leave","legal","level","lewis","light","limit","links","lives","local","loose","lower","lucky","lunch","lying","magic","major","maker","march","maria","match","maybe","mayor","meant","media","metal","might","minor","minus","mixed","model","money","month","moral","motor","mount","mouse","mouth","moved","movie","music","naked","named","nasty","naval","near","neat","neck","need","nerve","never","newer","newly","news","next","nice","night","nine","ninth","noble","noise","noisy","none","noon","nor","north","nose","not","note","noted","notes","notice","noun","now","number","nurse","ocean","offer","often","oil","old","older","omit","once","one","only","onto","open","opened","opening","opens","operation","opinion","opportunity","opposite","or","orange","order","ordered","ordinary","organization","other","others","ought","our","ours","ourselves","out","outside","over","own","page","paid","pain","paint","pair","paper","paragraph","parent","part","particular","party","pass","passed","past","pay","peace","people","per","percent","perfect","perhaps","period","person","personal","picture","piece","place","plan","plane","plant","play","played","please","point","poor","position","possible","power","practice","prepare","present","president","pretty","probably","problem","provide","public","pull","put","question","quick","quickly","quiet","quite","race","radio","rain","raise","ran","rather","reach","read","ready","real","really","reason","received","record","red","region","remember","reported","research","result","return","right","river","road","rock","room","rule","run","running","said","same","saw","say","school","sea","second","see","seem","seen","self","sentence","set","several","shall","she","should","show","shown","side","since","small","so","some","something","sometimes","son","soon","sound","south","space","speak","special","stand","start","state","stay","still","stop","story","study","such","sure","system","table","take","taken","talk","tell","ten","than","that","the","their","them","then","there","these","they","thing","think","this","those","though","thought","three","through","time","to","today","together","told","too","took","toward","try","turn","two","under","until","up","upon","us","use","used","very","value","walk","want","was","watch","water","way","we","well","went","were","what","when","where","which","while","white","who","why","will","with","without","word","work","world","would","write","written","year","you","young","your","zero","zone"],oe=new Set(T);let _=null,R=!1,C=null;const U="wordle_valid_guesses_cache",q="wordle_cache_timestamp",ot=24*60*60*1e3,P=typeof window!="undefined"&&window.localStorage;function re(){return M(this,null,function*(){if(_)return _;if(C)return C;const r=P?localStorage.getItem(U):null,s=P?localStorage.getItem(q):null;if(r&&s&&Date.now()-parseInt(s)<ot)try{const c=JSON.parse(r);return _=new Set(c),console.log("📦 Loaded valid guesses from cache"),_}catch(c){console.warn("Failed to parse cached valid guesses:",c)}return R=!0,C=fetch("/wordle/validGuesses.json").then(a=>{if(!a.ok)throw new Error(`Failed to load valid guesses: ${a.status}`);return a.json()}).then(a=>{if(_=new Set(a),P)try{localStorage.setItem(U,JSON.stringify(a)),localStorage.setItem(q,Date.now().toString()),console.log("💾 Cached valid guesses in localStorage")}catch(c){console.warn("Failed to cache valid guesses:",c)}return R=!1,C=null,_}).catch(a=>(console.error("Failed to load valid guesses:",a),R=!1,C=null,_=oe,_)),C})}function rt(r){return M(this,null,function*(){const s=r.toLowerCase();return oe.has(s)?!0:(yield re()).has(s)})}function J(r){const s=r%T.length;return T[s]}function at(){return M(this,null,function*(){!_&&!R&&(console.log("🚀 Preloading valid guesses..."),yield re(),console.log("✅ Valid guesses preloaded"))})}const G={secretWord:"",currentRow:0,currentCol:0,gameOver:!1,gameWon:!1,maxAttempts:6,wordLength:5,board:Array.from({length:6},()=>Array.from({length:5},()=>({value:"",status:""}))),keyboardColors:{}},Z=["Great Job!","Awesome!","You did it!","Impressive!","Fantastic!","Well done!","You cracked it!","Brilliant!","Superb!","You nailed it!"],Q=["Better luck next time!","Don't give up!","Try again tomorrow!","Keep practicing!","You'll get it next time!"];function X(){return Array.from({length:6},()=>Array.from({length:5},()=>({value:"",status:""})))}function st(r,s){const a=[],c=s.split(""),u=r.split(""),g=new Array(5).fill(!1);for(let t=0;t<5;t++)u[t]===c[t]?(a.push("correct"),g[t]=!0):a.push("");for(let t=0;t<5;t++){if(a[t]==="correct")continue;const h=u[t],p=c.filter((y,E)=>y===h&&!g[E]).length,w=a.filter((y,E)=>y==="present"&&u[E]===h).length;if(p>w){a[t]="present";for(let y=0;y<5;y++)if(c[y]===h&&!g[y]){g[y]=!0;break}}else a[t]="absent"}return a}function nt(r,s,a){const c=v({},r);for(let u=0;u<s.length;u++){const g=s[u].toUpperCase(),t=a[u];(!c[g]||t==="correct"||t==="present"&&c[g]==="absent")&&(c[g]=t)}return c}function ee(){return COMPREHENSIVE_WORDS[Math.floor(Math.random()*COMPREHENSIVE_WORDS.length)]}const yt=({mode:r,description:s,instructions:a})=>{Se(),ke();const{showToast:c}=fe(),u=je(),g=new Date().toDateString(),[t,h]=m.useState(G),[p,w]=m.useState(!1),[y,E]=m.useState(""),[ae,se]=m.useState(""),[I,N]=m.useState(!1),[ne,$]=m.useState(""),{WelcomeModal:le}=Ce("wordle");m.useEffect(()=>{const o=r==="daily",e=o?J(u):ee();h(k(v({},G),{secretWord:e,board:X()})),$(`Wordle game started. ${o?"Daily mode":"Practice mode"}. Guess the 5-letter word in 6 tries.`),at()},[r,u]),m.useEffect(()=>{if(t.gameOver){const o=t.currentRow,e=t.gameWon?`Congratulations! You won in ${o} ${o===1?"try":"tries"}!`:`Game over. The word was ${t.secretWord.toUpperCase()}.`;$(e)}else{const e=`Attempt ${t.currentRow+1} of 6. ${t.currentCol===0?"Enter your guess.":`Current guess: ${t.board[t.currentRow].map(l=>l.value||"empty").join(" ")}`}`;$(e)}},[t.currentRow,t.currentCol,t.gameOver,t.gameWon,t.secretWord,t.board]);const O=m.useCallback(o=>{h(e=>{if(e.gameOver||e.currentCol>=5)return e;const l=[...e.board];return l[e.currentRow][e.currentCol]={value:o,status:""},k(v({},e),{board:l,currentCol:e.currentCol+1})})},[]),D=m.useCallback(()=>{h(o=>{if(o.gameOver||o.currentCol===0)return o;const e=[...o.board];return e[o.currentRow][o.currentCol-1]={value:"",status:""},k(v({},o),{board:e,currentCol:o.currentCol-1})})},[]),A=m.useCallback(()=>M(null,null,function*(){const o=t;if(o.gameOver||o.currentCol!==5)return;const e=o.board[o.currentRow].map(i=>i.value).join("");if(!(yield rt(e))){c("Invalid Word",{type:"error",position:"top",duration:2e3});return}h(i=>{const S=st(e,i.secretWord),j=[...i.board];j[i.currentRow]=j[i.currentRow].map((b,L)=>k(v({},b),{status:S[L]}));const ge=nt(i.keyboardColors,e,S),W=S.every(b=>b==="correct"),me=W||i.currentRow===5;if(r==="daily"){const b=Y(),L={gamesPlayed:b.gamesPlayed+1,gamesWon:b.gamesWon+(W?1:0),currentStreak:W?b.currentStreak+1:0,bestStreak:W?Math.max(b.bestStreak,b.currentStreak+1):b.bestStreak};_e(L),ve("wordle",g)}return k(v({},i),{board:j,keyboardColors:ge,currentRow:i.currentRow+1,currentCol:0,gameOver:me,gameWon:W})})}),[t,r,g,c]),B=m.useCallback(o=>{const e=o.currentRow,l=Y(),i={gamesPlayed:l.gamesPlayed,gamesWon:l.gamesWon,currentStreak:l.currentStreak,bestStreak:l.bestStreak},S=o.gameWon?Z[Math.floor(Math.random()*Z.length)]:Q[Math.floor(Math.random()*Q.length)];E(o.gameWon?"Congratulations!":"Game Over"),se(`${S}

${o.gameWon?`You solved it in ${e} ${e===1?"try":"tries"}!`:`The word was: ${o.secretWord.toUpperCase()}`}

Games Played: ${i.gamesPlayed}
Games Won: ${i.gamesWon}
Current Streak: ${i.currentStreak}
Best Streak: ${i.bestStreak}`),w(!0)},[r,g]);m.useEffect(()=>{if(t.gameOver){const o=setTimeout(()=>{B(t)},1e3);return()=>clearTimeout(o)}},[t.gameOver,t.gameWon,B]),m.useEffect(()=>{const o=e=>{(e.key==="Enter"||e.key==="Backspace")&&e.preventDefault(),e.key.length===1&&e.key.match(/[a-zA-Z]/)?O(e.key.toLowerCase()):e.key==="Enter"?A():e.key==="Backspace"&&D()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[O,D,A]);const ie=()=>{const e=r==="daily"?J(u):ee();h(k(v({},G),{secretWord:e,board:X()})),w(!1)},ce=o=>{if(!o.status)return"";switch(o.status){case"correct":return d.correct;case"present":return d.present;case"absent":return d.absent;default:return""}},V=o=>t.keyboardColors[o]||"",de=(o,e,l)=>{const i=`Position ${l+1} in row ${e+1}`,S=o.value||"empty",j=o.status?`, ${o.status}`:"";return`${i}, ${S}${j}`},ue=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]];return n.jsxs(xe,{children:[n.jsx(Ee,{description:s,instructions:a}),n.jsx(le,{}),n.jsx("div",{"aria-live":"polite","aria-atomic":"true",style:{position:"absolute",left:"-10000px",width:"1px",height:"1px",overflow:"hidden"},children:ne}),n.jsxs("div",{className:d.gameContent,children:[n.jsx("div",{className:d.board,role:"grid","aria-label":"Wordle game board",children:t.board.map((o,e)=>n.jsx("div",{className:d.row,role:"row","aria-label":`Row ${e+1}`,children:o.map((l,i)=>n.jsx("div",{className:`${d.cell} ${ce(l)} ${e===t.currentRow&&i===t.currentCol?d.current:""}`,role:"gridcell","aria-label":de(l,e,i),"aria-current":e===t.currentRow&&i===t.currentCol?"true":void 0,children:l.value},i))},e))}),n.jsx("div",{className:d.settingsContainer,children:n.jsx("button",{className:d.settingsButton,onClick:()=>N(!0),"aria-label":"Word list settings",title:"Word List Settings",children:"⚙️ Settings"})}),n.jsx("div",{className:d.keyboard,role:"group","aria-label":"Virtual keyboard",children:ue.map((o,e)=>n.jsxs("div",{className:d.keyboardRow,role:"group","aria-label":`Keyboard row ${e+1}`,children:[e===2&&n.jsx("button",{className:`${d.key} ${d.specialKey}`,onClick:A,disabled:t.gameOver,"aria-label":"Submit guess",children:"Enter"}),o.map(l=>n.jsx("button",{className:`${d.key} ${V(l)?d[V(l)]:""}`,onClick:()=>O(l.toLowerCase()),disabled:t.gameOver,"aria-label":`Input letter ${l}`,children:l},l)),e===2&&n.jsx("button",{className:`${d.key} ${d.specialKey}`,onClick:D,disabled:t.gameOver,"aria-label":"Delete last letter",children:"←"})]},e))}),p&&n.jsxs(F,{open:p,onClose:()=>w(!1),title:y,children:[n.jsx("div",{style:{whiteSpace:"pre-line",marginBottom:"20px"},children:ae}),n.jsx("div",{slot:"buttons",children:n.jsx("button",{onClick:ie,style:{backgroundColor:"#6aaa64",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},"aria-label":"Play again",children:"Play Again"})})]}),I&&n.jsx(F,{open:I,onClose:()=>N(!1),title:"Word List Settings",children:n.jsx(Te,{onClose:()=>N(!1)})})]})]})};export{yt as default};
