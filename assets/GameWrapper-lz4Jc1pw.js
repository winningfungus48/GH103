var F=Object.defineProperty,V=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var H=(e,n,r)=>n in e?F(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,O=(e,n)=>{for(var r in n||(n={}))K.call(n,r)&&H(e,r,n[r]);if(L)for(var r of L(n))Y.call(n,r)&&H(e,r,n[r]);return e},G=(e,n)=>V(e,J(n));import{j as t,b as Q}from"./index-DMZmBJst.js";import{L as C,R as p,r as a,u as U,c as X}from"./router-vendor-BfUoC7-o.js";import{t as z,g as Z}from"./analytics-G3yrfhPN.js";import{L as k}from"./LayoutWrapper-DH_9buE1.js";import{P as l}from"./index-C9qaKABp.js";import"./react-vendor-C0DUGSOM.js";import"./helmet-vendor-CTOi22zu.js";import"./CategoryStrip-DR0LYWap.js";class ee{constructor(){this.metrics={},this.isEnabled=localStorage.getItem("gh103_performance_monitoring")==="true"}startGameLoad(n){this.isEnabled&&(this.metrics[n]={startTime:performance.now(),gameSlug:n})}endGameLoad(n){if(!this.isEnabled||!this.metrics[n])return;const r=performance.now(),s=r-this.metrics[n].startTime;this.metrics[n].endTime=r,this.metrics[n].duration=s;const o=JSON.parse(localStorage.getItem("gh103_game_load_times")||"{}");o[n]=G(O({},this.metrics[n]),{timestamp:Date.now()}),localStorage.setItem("gh103_game_load_times",JSON.stringify(o));try{window.gtag&&window.gtag("event","game_load_time",{game_name:n,load_time_ms:Math.round(s)})}catch(i){}}getAverageLoadTime(n){const s=JSON.parse(localStorage.getItem("gh103_game_load_times")||"{}")[n];return s?s.duration:null}getAllMetrics(){return JSON.parse(localStorage.getItem("gh103_game_load_times")||"{}")}clearMetrics(){localStorage.removeItem("gh103_game_load_times"),this.metrics={}}setEnabled(n){this.isEnabled=n,localStorage.setItem("gh103_performance_monitoring",n.toString())}}const D=new ee,te="_wrapper_1pzl9_1",S={wrapper:te},ne="_nowPlayingBar_5vzve_1",re="_text_5vzve_39",M={nowPlayingBar:ne,text:re},se=({gameTitle:e,visible:n=!1})=>n?t.jsx("div",{className:M.nowPlayingBar,role:"status","aria-live":"polite",children:t.jsxs("span",{className:M.text,children:["Now Playing: ",t.jsx("strong",{children:e})]})}):null,oe="_header_b8vba_1",ie="_backLink_b8vba_35",ae="_icon_b8vba_83",le="_title_b8vba_93",ce="_rightActions_b8vba_111",x={header:oe,backLink:ie,icon:ae,title:le,rightActions:ce},de=({title:e,backLabel:n="Back to Home",backHref:r="/",rightActions:s})=>t.jsxs("header",{className:x.header,children:[t.jsxs(C,{to:r,className:x.backLink,children:[t.jsx("span",{className:x.icon,"aria-hidden":"true",children:"‚Üê"})," ",n]}),t.jsx("h1",{className:x.title,children:e}),t.jsx("div",{className:x.rightActions,children:s})]});var A={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$=p.createContext&&p.createContext(A),ue=["attr","size","title"];function me(e,n){if(e==null)return{};var r=he(e,n),s,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)s=i[o],!(n.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function he(e,n){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(n.indexOf(s)>=0)continue;r[s]=e[s]}return r}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_.apply(this,arguments)}function q(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,s)}return r}function v(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?q(Object(r),!0).forEach(function(s){fe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function fe(e,n,r){return n=pe(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function pe(e){var n=ge(e,"string");return typeof n=="symbol"?n:n+""}function ge(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function R(e){return e&&e.map((n,r)=>p.createElement(n.tag,v({key:r},n.attr),R(n.child)))}function T(e){return n=>p.createElement(ye,_({attr:v({},e.attr)},n),R(e.child))}function ye(e){var n=r=>{var{attr:s,size:o,title:i}=e,d=me(e,ue),f=o||r.size||"1em",u;return r.className&&(u=r.className),e.className&&(u=(u?u+" ":"")+e.className),p.createElement("svg",_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,d,{className:u,style:v(v({color:e.color||r.color},r.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),i&&p.createElement("title",null,i),e.children)};return $!==void 0?p.createElement($.Consumer,null,r=>n(r)):n(A)}function xe(e){return T({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(e)}function be(e){return T({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function je(e){return T({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}const _e="_overlay_ooyuq_3",ve="_fadeIn_ooyuq_1",we="_modal_ooyuq_39",Ne="_slideIn_ooyuq_1",Pe="_small_ooyuq_67",Oe="_medium_ooyuq_77",ke="_large_ooyuq_87",Se="_header_ooyuq_99",Ce="_title_ooyuq_117",Te="_closeButton_ooyuq_135",Be="_closeButtonNoTitle_ooyuq_193",Ee="_content_ooyuq_255",h={overlay:_e,fadeIn:ve,modal:we,slideIn:Ne,small:Pe,medium:Oe,large:ke,header:Se,title:Ce,closeButton:Te,closeButtonNoTitle:Be,content:Ee};function j({isOpen:e,onClose:n,title:r,children:s,size:o="medium",showCloseButton:i=!0,closeOnOverlayClick:d=!0,closeOnEscape:f=!0,className:u="",overlayClassName:w=""}){const g=a.useRef(null),N=a.useRef(null);if(a.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),a.useEffect(()=>{if(e){N.current=document.activeElement,setTimeout(()=>{if(g.current){const m=g.current.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');m?m.focus():g.current.focus()}},0);const y=m=>{if(f&&m.key==="Escape"){n();return}if(m.key==="Tab"&&g.current){const P=g.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),E=P[0],I=P[P.length-1];!m.shiftKey&&document.activeElement===I?(m.preventDefault(),E.focus()):m.shiftKey&&document.activeElement===E&&(m.preventDefault(),I.focus())}};return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y),N.current&&N.current.focus()}}},[e,n,f]),!e)return null;const W=y=>{d&&y.target===y.currentTarget&&n()},B=()=>{n()};return t.jsx("div",{className:`${h.overlay} ${w}`,onClick:W,"aria-modal":"true",role:"dialog","aria-labelledby":r?"modal-title":void 0,tabIndex:-1,children:t.jsxs("div",{ref:g,className:`${h.modal} ${h[o]} ${u}`,tabIndex:0,children:[r&&t.jsxs("div",{className:h.header,children:[t.jsx("h2",{id:"modal-title",className:h.title,children:r}),i&&t.jsx("button",{onClick:B,className:h.closeButton,"aria-label":"Close modal",type:"button",children:t.jsx("span",{"aria-hidden":"true",children:"√ó"})})]}),!r&&i&&t.jsx("button",{onClick:B,className:h.closeButtonNoTitle,"aria-label":"Close modal",type:"button",children:t.jsx("span",{"aria-hidden":"true",children:"√ó"})}),t.jsx("div",{className:h.content,children:s})]})})}j.propTypes={isOpen:l.bool.isRequired,onClose:l.func.isRequired,title:l.oneOfType([l.string,l.node]),children:l.node.isRequired,size:l.oneOf(["small","medium","large"]),showCloseButton:l.bool,closeOnOverlayClick:l.bool,closeOnEscape:l.bool,className:l.string,overlayClassName:l.string};const Ie="_content_1exc1_1",Le="_placeholder_1exc1_9",He="_howToPlay_1exc1_17",Ge="_icon_1exc1_27",ze="_instructions_1exc1_91",c={content:Ie,placeholder:Le,howToPlay:He,icon:Ge,instructions:ze},De=()=>t.jsx("div",{className:c.content,children:t.jsxs("div",{className:c.placeholder,children:[t.jsx("div",{className:c.icon,children:"üìä"}),t.jsx("h3",{children:"Statistics Coming Soon"}),t.jsx("p",{children:"Detailed game statistics and performance tracking will be available in a future update."}),t.jsx("p",{children:"You'll be able to view:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Games played and win rates"}),t.jsx("li",{children:"Average completion times"}),t.jsx("li",{children:"Personal best scores"}),t.jsx("li",{children:"Progress over time"})]})]})}),Me=()=>t.jsx("div",{className:c.content,children:t.jsxs("div",{className:c.placeholder,children:[t.jsx("div",{className:c.icon,children:"‚öôÔ∏è"}),t.jsx("h3",{children:"Settings Coming Soon"}),t.jsx("p",{children:"Game settings and customization options will be available in a future update."}),t.jsx("p",{children:"You'll be able to customize:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Sound effects and music"}),t.jsx("li",{children:"Visual themes and colors"}),t.jsx("li",{children:"Difficulty levels"}),t.jsx("li",{children:"Accessibility options"}),t.jsx("li",{children:"Game preferences"})]})]})}),$e=({instructions:e})=>t.jsx("div",{className:c.content,children:t.jsxs("div",{className:c.howToPlay,children:[t.jsx("div",{className:c.icon,children:"‚ùì"}),t.jsx("h3",{children:"How to Play"}),t.jsx("div",{className:c.instructions,children:e?t.jsx("div",{dangerouslySetInnerHTML:{__html:e}}):t.jsx("p",{children:"Instructions for this game are not available."})})]})}),qe="_actions_jxssw_1",Ae="_actionButton_jxssw_13",b={actions:qe,actionButton:Ae},Re=({instructions:e})=>{const[n,r]=a.useState(!1),[s,o]=a.useState(!1),[i,d]=a.useState(!1),f=()=>{r(!0)},u=()=>{o(!0)},w=()=>{d(!0)};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:b.actions,children:[t.jsx("button",{onClick:f,className:b.actionButton,"aria-label":"View statistics",title:"Statistics",children:t.jsx(xe,{})}),t.jsx("button",{onClick:u,className:b.actionButton,"aria-label":"Open settings",title:"Settings",children:t.jsx(je,{})}),t.jsx("button",{onClick:w,className:b.actionButton,"aria-label":"How to play",title:"How to Play",children:t.jsx(be,{})})]}),t.jsx(j,{isOpen:n,onClose:()=>r(!1),title:"Statistics",size:"medium",children:t.jsx(De,{})}),t.jsx(j,{isOpen:s,onClose:()=>o(!1),title:"Settings",size:"medium",children:t.jsx(Me,{})}),t.jsx(j,{isOpen:i,onClose:()=>d(!1),title:"How to Play",size:"large",children:t.jsx($e,{instructions:e})})]})},We=(e,n)=>{const r=n.find(s=>s.slug===e);return r||(console.warn(`[GameWrapper] Game not found for slug: "${e}"`),console.warn("[GameWrapper] Available games:",n.map(s=>s.slug)),null)},Fe=({gameName:e})=>{const[n,r]=a.useState(0);return a.useEffect(()=>{const s=setInterval(()=>{r(o=>o>=90?o:o+Math.random()*15)},100);return()=>clearInterval(s)},[]),t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",color:"#666",minHeight:"300px"},children:[t.jsx("div",{style:{width:"60px",height:"60px",border:"4px solid #f3f3f3",borderTop:"4px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"1rem"}}),t.jsxs("p",{style:{marginBottom:"1rem",fontSize:"1.1rem"},children:["Loading ",e,"..."]}),t.jsx("div",{style:{width:"200px",height:"4px",backgroundColor:"#f3f3f3",borderRadius:"2px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${n}%`,height:"100%",backgroundColor:"#007bff",transition:"width 0.3s ease",borderRadius:"2px"}})}),t.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.9rem",color:"#999"},children:[Math.round(n),"% loaded"]})]})},tt=()=>{const{slug:e}=U(),[n]=X(),r=n.get("mode"),s=We(e,Z);if(a.useEffect(()=>{s&&(D.startGameLoad(s.slug),window.scrollTo({top:0,behavior:"smooth"}))},[s]),a.useEffect(()=>{if(s){Q(e);try{z("page_view",{page:`game/${s.slug}`,mode:r}),z("game_view",{name:s.name,mode:r})}catch(d){}}},[s,e,r]),!s)return t.jsx(k,{showHeader:!1,showCategoryStrip:!1,pageTitle:"Game Not Found ‚Äì Game Hub",metaDescription:"The requested game could not be found.",keywords:["game hub","not found"],children:t.jsx("div",{className:S.wrapper,children:t.jsxs("div",{style:{textAlign:"center",marginTop:"3rem"},children:[t.jsx("h2",{children:"Game Not Found"}),t.jsxs("p",{style:{color:"#666",marginBottom:"1rem"},children:['The game "',e,'" could not be found.']}),t.jsx(C,{to:"/",children:"Back to Home"})]})})});if(r==="daily"&&!s.supportsDaily)return t.jsx(k,{showHeader:!1,showCategoryStrip:!1,pageTitle:`${s.name} ‚Äì Daily Mode Not Available`,metaDescription:"Daily mode is not available for this game.",keywords:["game hub","daily mode",s.name],children:t.jsx("div",{className:S.wrapper,children:t.jsxs("div",{style:{textAlign:"center",marginTop:"3rem"},children:[t.jsx("h2",{children:"Daily Mode Not Available"}),t.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"This game doesn't support daily mode yet."}),t.jsx(C,{to:`/game/${s.slug}`,style:{color:"#007bff",textDecoration:"none",fontSize:16},children:"Play Regular Game"})]})})});const o=s.component,i=d=>(a.useEffect(()=>{D.endGameLoad(s.slug)},[]),t.jsx(o,O({},d)));return t.jsxs(k,{showHeader:!1,showCategoryStrip:!1,pageTitle:`${s.name}${r==="daily"?" ‚Äì Daily Challenge":""} ‚Äì Play Now on Game Hub`,metaDescription:s.metaDescription||"Play free puzzle games in your browser. No sign-up needed.",keywords:s.keywords||["game hub","browser games","puzzle games"],children:[t.jsx(se,{gameTitle:s.name,visible:!1}),t.jsx(de,{title:s.name,rightActions:t.jsx(Re,{instructions:s.instructions})}),t.jsx("div",{className:S.wrapper,children:t.jsx("section",{style:{minHeight:200,display:"flex",alignItems:"center",justifyContent:"center",background:"#f9f9f9",borderRadius:4},children:t.jsx(a.Suspense,{fallback:t.jsx(Fe,{gameName:s.name}),children:t.jsx(i,{mode:r,description:s.description,instructions:s.instructions})})})})]})};export{tt as default};
