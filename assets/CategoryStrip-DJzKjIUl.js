import{j as a,s as $}from"./index-D0aZsLJq.js";import{r as l,R as S,e as B,L as M}from"./router-vendor-K3Txs3ma.js";const G="_header_6x264_1",O="_logoLink_6x264_57",K="_stylizedTitle_6x264_77",A="_desktopNav_6x264_145",F="_mobileNav_6x264_153",Z="_hamburger_6x264_163",V="_bar_6x264_213",q="_mobileCategoriesPanel_6x264_233",U="_mobileCategoriesList_6x264_241",J="_mobileCategoryItem_6x264_257",Q="_active_6x264_309",d={header:G,logoLink:O,stylizedTitle:K,desktopNav:A,mobileNav:F,hamburger:Z,bar:V,mobileCategoriesPanel:q,mobileCategoriesList:U,mobileCategoryItem:J,active:Q},X="_backdrop_uf05z_1",Y="_panel_uf05z_27",ee="_panelHeader_uf05z_47",ae="_panelTitle_uf05z_67",se="_closeButton_uf05z_81",le="_panelContent_uf05z_135",C={backdrop:X,panel:Y,panelHeader:ee,panelTitle:ae,closeButton:se,panelContent:le},te=({isOpen:r,onClose:u,children:h,width:f="70%",title:g,className:k=""})=>{const m=l.useRef(null),v=l.useRef(null);l.useEffect(()=>{const n=s=>{s.key==="Escape"&&r&&u()};return r&&(document.addEventListener("keydown",n),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",n),document.body.style.overflow=""}},[r,u]),l.useEffect(()=>{if(r&&m.current){const n=m.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');n.length>0&&n[0].focus()}},[r]);const N=n=>{n.target===v.current&&u()},j=n=>{n.stopPropagation()};return r?a.jsx("div",{className:C.backdrop,ref:v,onClick:N,role:"presentation",children:a.jsxs("div",{ref:m,className:`${C.panel} ${k}`,style:{width:f},onClick:j,role:"navigation","aria-modal":"true","aria-labelledby":g?"sliding-panel-title":void 0,children:[a.jsxs("div",{className:C.panelHeader,children:[g&&a.jsx("h2",{id:"sliding-panel-title",className:C.panelTitle,children:g}),a.jsx("button",{className:C.closeButton,onClick:u,"aria-label":"Close panel",type:"button",children:a.jsx("span",{"aria-hidden":"true",children:"Ã—"})})]}),a.jsx("div",{className:C.panelContent,children:h})]})}):null},R=[{label:"A-Z Games",slug:"a-z games"},{label:"Daily Games",slug:"daily games"},{label:"Featured",slug:"featured"},{label:"Favorites",slug:"favorites"},{label:"Logic",slug:"logic"},{label:"Math",slug:"math"},{label:"Memory",slug:"memory"},{label:"New",slug:"new"},{label:"Recently Played",slug:"recently played"},{label:"Sports",slug:"Sports"},{label:"Wordles",slug:"wordles"},{label:"-le Games",slug:"-le games"}],ne=S.memo(({activeCategory:r,onCategoryChange:u})=>{const[h,f]=l.useState(!1);B();const g=l.useCallback(()=>{f(s=>!s)},[]),k=l.useCallback(()=>{f(!1)},[]),m=l.useCallback(s=>{$(s),u(s),f(!1)},[u]),v=l.useCallback(()=>{u(null)},[u]),N=l.useCallback((s,y)=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),m(y))},[m]),j=S.useMemo(()=>{const s=R.find(p=>p.slug==="a-z games"),y=R.filter(p=>p.slug!=="a-z games");return[s,...y.sort((p,x)=>p.label.localeCompare(x.label))]},[]),n=a.jsxs("button",{className:d.hamburger,"aria-label":"Open categories menu","aria-expanded":h,"aria-controls":"mobile-categories-panel",onClick:g,tabIndex:0,children:[a.jsx("span",{className:d.bar,"aria-hidden":"true"}),a.jsx("span",{className:d.bar,"aria-hidden":"true"}),a.jsx("span",{className:d.bar,"aria-hidden":"true"})]});return a.jsxs("header",{className:d.header,role:"banner",children:[a.jsx("h1",{children:a.jsx(M,{to:"/",className:d.logoLink,onClick:v,children:a.jsx("span",{className:d.stylizedTitle,children:"GAME HUB"})})}),a.jsx("nav",{className:d.desktopNav,"aria-label":"Desktop navigation"}),a.jsx("div",{className:d.mobileNav,children:n}),a.jsx(te,{isOpen:h,onClose:k,title:"Categories",width:"70%",className:d.mobileCategoriesPanel,children:a.jsx("nav",{className:d.mobileCategoriesList,role:"navigation","aria-label":"Mobile categories navigation",id:"mobile-categories-panel",children:j.map(s=>a.jsx("button",{className:`${d.mobileCategoryItem} ${r===s.slug?d.active:""}`,onClick:()=>m(s.slug),onKeyDown:y=>N(y,s.slug),tabIndex:0,"aria-current":r===s.slug?"page":void 0,"aria-label":`${s.label} games`,children:s.label},s.slug))})})]})});ne.displayName="Header";const oe="_categoryStrip_196tb_13",re="_visibleTabs_196tb_51",ie="_tab_196tb_69",ce="_active_196tb_113",de="_hamburgerContainer_196tb_141",ue="_hamburgerButton_196tb_151",be="_hamburgerIcon_196tb_201",me="_dropdownOverlay_196tb_217",ge="_dropdown_196tb_217",pe="_dropdownItem_196tb_265",c={categoryStrip:oe,visibleTabs:re,tab:ie,active:ce,hamburgerContainer:de,hamburgerButton:ue,hamburgerIcon:be,dropdownOverlay:me,dropdown:ge,dropdownItem:pe},W=[{label:"A-Z Games",slug:"a-z games"},{label:"Daily Games",slug:"daily games"},{label:"Featured",slug:"featured"},{label:"Favorites",slug:"favorites"},{label:"Logic",slug:"logic"},{label:"Math",slug:"math"},{label:"Memory",slug:"memory"},{label:"New",slug:"new"},{label:"Recently Played",slug:"recently played"},{label:"Sports",slug:"Sports"},{label:"Wordles",slug:"wordles"},{label:"-le Games",slug:"-le games"}],he=S.memo(({activeCategory:r,onCategoryChange:u})=>{const[h,f]=l.useState([]),[g,k]=l.useState([]),[m,v]=l.useState(!1),[N,j]=l.useState({right:20}),n=l.useRef(null),s=l.useRef([]),y=l.useRef(null),p=l.useCallback(e=>{if($(e),u(e),g.some(t=>t.slug===e)){const t=g.find(b=>b.slug===e),o=h[h.length-1];f(b=>[...b.slice(0,-1),t]),k(b=>[...b.filter(i=>i.slug!==e),o])}v(!1)},[u,g,h]),x=l.useMemo(()=>{const e=W.find(o=>o.slug==="a-z games"),t=W.filter(o=>o.slug!=="a-z games");return[e,...t.sort((o,b)=>o.label.localeCompare(b.label))]},[]);l.useEffect(()=>{const e=()=>{const i=document.createElement("div");i.style.visibility="hidden",i.style.overflow="scroll",document.body.appendChild(i);const w=document.createElement("div");i.appendChild(w);const _=i.offsetWidth-w.offsetWidth;return document.body.removeChild(i),_},t=()=>{const i=e(),w=document.documentElement.scrollHeight>document.documentElement.clientHeight;let _=20;w&&i>0&&(_=Math.max(20,i+10)),window.innerWidth<=768&&(_=Math.max(15,_-5)),j({right:_})};t();const o=()=>t(),b=()=>t();return window.addEventListener("resize",o),window.addEventListener("scroll",b),()=>{window.removeEventListener("resize",o),window.removeEventListener("scroll",b)}},[]),l.useEffect(()=>{const e=()=>{var I,L;if(!n.current)return;const b=n.current.offsetWidth,i=[x[0]],w=[];let _=((I=s.current[0])==null?void 0:I.offsetWidth)||120;const H=60,E=16;for(let T=1;T<x.length;T++){const P=((L=s.current[T])==null?void 0:L.offsetWidth)||120;_+E+P+E+H<=b?(i.push(x[T]),_+=E+P):w.push(x[T])}f(i),k(w)};e();const t=new ResizeObserver(e);return n.current&&t.observe(n.current),()=>t.disconnect()},[x]);const D=l.useCallback(()=>{v(e=>!e)},[]),z=l.useCallback((e,t)=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),p(t))},[p]);return a.jsx("nav",{ref:n,className:c.categoryStrip,role:"navigation","aria-label":"Game categories",children:a.jsxs("div",{className:c.visibleTabs,children:[h.map((e,t)=>a.jsx("button",{ref:o=>s.current[t]=o,className:`${c.tab} ${r===e.slug?c.active:""}`,onClick:()=>p(e.slug),onKeyDown:o=>z(o,e.slug),"aria-current":r===e.slug?"page":void 0,"aria-label":`${e.label} games`,tabIndex:0,children:e.label},e.slug)),a.jsxs("div",{className:c.hamburgerContainer,children:[a.jsxs("button",{ref:y,className:`${c.hamburgerButton} ${m?c.active:""}`,onClick:D,"aria-label":"Show more categories","aria-expanded":m,tabIndex:0,children:[a.jsx("span",{className:c.hamburgerIcon}),a.jsx("span",{className:c.hamburgerIcon}),a.jsx("span",{className:c.hamburgerIcon})]}),m&&a.jsx("div",{className:c.dropdownOverlay,onClick:()=>v(!1),children:a.jsx("div",{className:c.dropdown,style:{right:`${N.right}px`},onClick:e=>e.stopPropagation(),children:g.map(e=>a.jsx("button",{className:`${c.dropdownItem} ${r===e.slug?c.active:""}`,onClick:()=>p(e.slug),onKeyDown:t=>z(t,e.slug),"aria-current":r===e.slug?"page":void 0,tabIndex:0,children:e.label},e.slug))})})]})]})})});he.displayName="CategoryStrip";export{he as C,ne as H};
