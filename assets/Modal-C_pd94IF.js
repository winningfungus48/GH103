var v=Object.defineProperty;var b=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var g=(n,e,t)=>e in n?v(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,d=(n,e)=>{for(var t in e||(e={}))j.call(e,t)&&g(n,t,e[t]);if(b)for(var t of b(e))k.call(e,t)&&g(n,t,e[t]);return n};import{j as s}from"./index-D0aZsLJq.js";import{r as u}from"./router-vendor-K3Txs3ma.js";import{P as i}from"./index-C9qaKABp.js";function E({open:n,onClose:e,title:t,children:y,buttons:f,className:h="",style:p={}}){const a=u.useRef(null),l=u.useRef(null);return u.useEffect(()=>{if(n){l.current=document.activeElement,setTimeout(()=>{if(a.current){const o=a.current.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');o?o.focus():a.current.focus()}},0);const r=o=>{if((o.key==="Escape"||o.key==="Enter")&&e(),o.key==="Tab"&&a.current){const c=a.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),x=c[0],m=c[c.length-1];!o.shiftKey&&document.activeElement===m?(o.preventDefault(),x.focus()):o.shiftKey&&document.activeElement===x&&(o.preventDefault(),m.focus())}};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r),l.current&&l.current.focus()}}},[n,e]),n?s.jsx("div",{className:`modal-backdrop ${n?"show":""}`,style:d({position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.5)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},p),"aria-modal":"true",role:"dialog",tabIndex:-1,onClick:r=>{r.target===r.currentTarget&&e()},children:s.jsxs("div",{className:`modal-content ${h}`,ref:a,style:d({background:"#fff",borderRadius:12,minWidth:320,maxWidth:420,width:"90vw",boxShadow:"0 8px 32px rgba(0,0,0,0.18)",outline:"none"},p),tabIndex:0,children:[s.jsxs("div",{style:{position:"relative",padding:"24px 24px 0 24px"},children:[t&&s.jsx("h2",{style:{margin:"0 0 1rem 0",fontSize:"1.5rem",textAlign:"center",paddingRight:"40px"},children:t}),s.jsx("button",{onClick:e,style:{position:"absolute",top:"16px",right:"16px",background:"#f3f4f6",border:"none",borderRadius:"50%",width:"32px",height:"32px",fontSize:"18px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280",transition:"all 0.2s ease",zIndex:1},onMouseEnter:r=>{r.target.style.background="#e5e7eb",r.target.style.color="#374151"},onMouseLeave:r=>{r.target.style.background="#f3f4f6",r.target.style.color="#6b7280"},"aria-label":"Close modal",children:"Ã—"})]}),s.jsx("div",{style:{textAlign:"center",padding:"0 24px 24px 24px"},children:y}),f&&s.jsx("div",{style:{marginTop:24,display:"flex",justifyContent:"center",gap:"12px"},children:f})]})}):null}E.propTypes={open:i.bool.isRequired,onClose:i.func.isRequired,title:i.oneOfType([i.string,i.node]),children:i.node,buttons:i.node,className:i.string,style:i.object};export{E as M};
